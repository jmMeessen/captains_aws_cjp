## Top level of "example.com"

dn: dc=example,dc=com
objectclass: top
objectclass: domain
dc: example

#####################################################################

## FIRST Level hierarchy - people 

dn: ou=People, dc=example,dc=com
objectclass: top
objectclass: organizationalunit
ou: People
aci: (targetattr="*||+")(version 3.0; acl "IDM Access"; allow (all)
  userdn="ldap:///uid=idm,ou=Administrators,dc=example,dc=com";)

## List of people

## [admin]
## - admin
## - cfgUser
# [local_admin]
# - local_admin
# [dev]
# - dev1
# - dev2
# [reader]
# - reader1
# - reader2
# [tester]
# - tester1
# - tester2

## - admin

dn: uid=admin, ou=People, dc=example,dc=com
cn: Admin
displayname: Jenkins Admin
objectclass: top
objectclass: person
objectclass: organizationalPerson
objectclass: inetOrgPerson
ou: Operations
ou: People
l: New York
uid: jwick
mail: jwick@example.com
telephonenumber: +1 408 555 1236
facsimiletelephonenumber: +1 408 555 4323
roomnumber: 233
userpassword: {{ ldap_jenkins_admin_passw }}

# - cfgUser
# - local_admin
# - dev1
# - dev2
# - reader1
# - reader2
# - tester1
# - tester2


dn: uid=jwick, ou=People, dc=example,dc=com
cn: John Wick
sn: Wick
givenname: John
objectclass: top
objectclass: person
objectclass: organizationalPerson
objectclass: inetOrgPerson
ou: Operations
ou: People
l: New York
uid: jwick
mail: jwick@example.com
telephonenumber: +1 408 555 1236
facsimiletelephonenumber: +1 408 555 4323
roomnumber: 233
userpassword: w4HQL63gIuqe94Qf

dn: uid=cptjack, ou=People, dc=example,dc=com
cn: cpt. Jack Sparrow
sn: Sparrow
givenname: Jack
objectclass: top
objectclass: person
objectclass: organizationalPerson
objectclass: inetOrgPerson
ou: Operations
ou: People
l: Caribbean
uid: cptjack
mail: jack@example.com
telephonenumber: +421 910 123456
facsimiletelephonenumber: +1 408 555 1111
roomnumber: 666
userpassword: {{ ldap_jenkins_user_passw }}

dn: uid=will, ou=People, dc=example,dc=com
cn: Will Turner
sn: Turner
givenname: William
objectclass: top
objectclass: person
objectclass: organizationalPerson
objectclass: inetOrgPerson
ou: Operations
ou: People
l: Caribbean
uid: will
mail: will@example.com
telephonenumber: +421 910 654321
facsimiletelephonenumber: +1 408 555 1111
roomnumber: 555
userpassword: 0YyAefPv1EY6zA6f

dn: uid=barbossa, ou=People, dc=example,dc=com
cn: Hector Barbossa
sn: Barbossa
givenname: Hector
objectclass: top
objectclass: person
objectclass: organizationalPerson
objectclass: inetOrgPerson
ou: Operations
ou: People
l: Caribbean
uid: barbossa
mail: captain.barbossa@example.com
telephonenumber: +421 910 382734
facsimiletelephonenumber: +1 408 555 1111
roomnumber: 111
userpassword: lS4PfTDILq58h1AE

dn: uid=djones, ou=People, dc=example,dc=com
cn: Davy Jones
sn: Jones
givenname: Davy
objectclass: top
objectclass: person
objectclass: organizationalPerson
objectclass: inetOrgPerson
ou: Operations
ou: People
l: Caribbean
uid: djones
mail: d.jones@example.com
telephonenumber: +421 910 382735
facsimiletelephonenumber: +1 408 555 1112
roomnumber: 112
userpassword: 7FGa7kgmN1j5L4oW

#####################################################################

## FIRST Level hierarchy - groups 

dn: ou=Groups, dc=example,dc=com
objectclass: top
objectclass: organizationalunit
ou: Groups
aci: (targetattr="*||+")(version 3.0; acl "IDM Access"; allow (all)
  userdn="ldap:///uid=idm,ou=Administrators,dc=example,dc=com";)

## Group definitions

dn: cn=Pirates,ou=Groups,dc=example,dc=com
objectclass: top
objectclass: groupOfUniqueNames
cn: Pirates
ou: Groups
uniquemember: uid=cptjack, ou=People, dc=example,dc=com
uniquemember: uid=will, ou=People, dc=example,dc=com
uniquemember: uid=djones, ou=People, dc=example,dc=com
description: Arrrrr!

dn: cn=Continental,ou=Groups,dc=example,dc=com
objectclass: top
objectclass: groupOfUniqueNames
cn: Continental
ou: Groups
uniquemember: uid=jwick, ou=People, dc=example,dc=com
description: Continental!

dn: cn=Catmins,ou=Groups,dc=example,dc=com
objectclass: top
objectclass: groupOfUniqueNames
cn: Catmins
ou: Groups
uniquemember: uid=barbossa, ou=People, dc=example,dc=com
uniquemember: uid=djones, ou=People, dc=example,dc=com
description: Purrrr!

# [jenkins_admin]

dn: cn=jenkins_admin,ou=Groups,dc=example,dc=com
objectclass: top
objectclass: groupOfUniqueNames
cn: jenkins_admin
ou: Groups
uniquemember: uid=barbossa, ou=People, dc=example,dc=com
uniquemember: uid=djones, ou=People, dc=example,dc=com
description: Local admins (deputy admins)

# [local_jenkins_admin]

dn: cn=local_jenkins_admin,ou=Groups,dc=example,dc=com
objectclass: top
objectclass: groupOfUniqueNames
cn: local_jenkins_admin
ou: Groups
uniquemember: uid=barbossa, ou=People, dc=example,dc=com
uniquemember: uid=djones, ou=People, dc=example,dc=com
description: Local admins (deputy admins)

# [Dev]

dn: cn=Dev,ou=Groups,dc=example,dc=com
objectclass: top
objectclass: groupOfUniqueNames
cn: Dev
ou: Groups
uniquemember: uid=barbossa, ou=People, dc=example,dc=com
uniquemember: uid=djones, ou=People, dc=example,dc=com
description: Developers

# [Readers]

dn: cn=Readers,ou=Groups,dc=example,dc=com
objectclass: top
objectclass: groupOfUniqueNames
cn: Readers
ou: Groups
uniquemember: uid=barbossa, ou=People, dc=example,dc=com
uniquemember: uid=djones, ou=People, dc=example,dc=com
description: Just read-only users

# [Testers]

dn: cn=Testers,ou=Groups,dc=example,dc=com
objectclass: top
objectclass: groupOfUniqueNames
cn: Testers
ou: Groups
uniquemember: uid=barbossa, ou=People, dc=example,dc=com
uniquemember: uid=djones, ou=People, dc=example,dc=com
description: Testers mainly execute pipelines

#####################################################################

## FIRST Level hierarchy - administrators 

dn: ou=Administrators, dc=example,dc=com
objectclass: top
objectclass: organizationalunit
ou: Administrators

dn: uid=idm, ou=Administrators,dc=example,dc=com
objectclass: top
objectclass: person
objectclass: organizationalPerson
objectclass: inetOrgPerson
uid: idm
cn: IDM Administrator
sn: IDM Administrator
description: Special LDAP acccount used by the IDM
  to access the LDAP data.
ou: Administrators
userPassword: {{ ldap_admin_passw }}
ds-privilege-name: unindexed-search
ds-privilege-name: password-reset
